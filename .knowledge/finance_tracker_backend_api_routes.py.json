{"is_source_file": true, "format": "Python", "description": "This file defines Flask routes for the API layer of a finance tracking backend. It provides endpoints for CRUD operations on finance entries and a health check.", "external_files": ["../infrastructure/persistence/db_models", "../infrastructure/persistence/sqlalchemy_repo", "../application/entry_service", "../domain/finance_entry/services"], "external_methods": ["db.session.rollback", "validate_entry_data", "datetime.strptime", "jsonify"], "published": ["api_bp", "get_service", "get_entries", "add_entry", "update_entry", "delete_entry", "health_check"], "classes": [], "methods": [{"name": "get_service()", "description": "Initializes or retrieves the singleton instance of the FinanceEntryService used by the routes.", "scope": "", "scopeKind": ""}, {"name": "get_entries()", "description": "Handles GET requests to retrieve all finance entries and their total sum.", "scope": "", "scopeKind": ""}, {"name": "add_entry()", "description": "Handles POST requests to create a new finance entry, validating input data.", "scope": "", "scopeKind": ""}, {"name": "update_entry(entry_id)", "description": "Handles PUT requests to update an existing finance entry identified by ID.", "scope": "", "scopeKind": ""}, {"name": "delete_entry(entry_id)", "description": "Handles DELETE requests to remove a finance entry by ID.", "scope": "", "scopeKind": ""}, {"name": "health_check()", "description": "Provides a simple health status endpoint.", "scope": "", "scopeKind": ""}], "calls": ["get_service()", "service.list()", "service.create()", "service.update()", "service.delete()", "jsonify()", "request.get_json()", "validate_entry_data()", "datetime.strptime()", "db.session.rollback()"], "search-terms": ["Flask routes", "API layer", "finance entries endpoints", "CRUD finance entries", "health check endpoint", "entry_service", "sqlalchemy_repo", "validate_entry_data"], "state": 2, "file_id": 19, "knowledge_revision": 46, "git_revision": "54a7cfa7c119fe6c7b03a0f21b551ee4d6527f1b", "ctags": [{"_type": "tag", "name": "add_entry", "path": "/home/kavia/workspace/code-generation/finance-tracker-29609-54449/finance_tracker_backend/api/routes.py", "pattern": "/^def add_entry():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "api_bp", "path": "/home/kavia/workspace/code-generation/finance-tracker-29609-54449/finance_tracker_backend/api/routes.py", "pattern": "/^api_bp = Blueprint(\"api\", __name__)$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "delete_entry", "path": "/home/kavia/workspace/code-generation/finance-tracker-29609-54449/finance_tracker_backend/api/routes.py", "pattern": "/^def delete_entry(entry_id):$/", "language": "Python", "kind": "function", "signature": "(entry_id)"}, {"_type": "tag", "name": "get_entries", "path": "/home/kavia/workspace/code-generation/finance-tracker-29609-54449/finance_tracker_backend/api/routes.py", "pattern": "/^def get_entries():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_service", "path": "/home/kavia/workspace/code-generation/finance-tracker-29609-54449/finance_tracker_backend/api/routes.py", "pattern": "/^def get_service():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "health_check", "path": "/home/kavia/workspace/code-generation/finance-tracker-29609-54449/finance_tracker_backend/api/routes.py", "pattern": "/^def health_check():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "update_entry", "path": "/home/kavia/workspace/code-generation/finance-tracker-29609-54449/finance_tracker_backend/api/routes.py", "pattern": "/^def update_entry(entry_id):$/", "language": "Python", "kind": "function", "signature": "(entry_id)"}], "hash": "b3f74d82ff3f3f697fb63ff9c6254847", "format-version": 4, "code-base-name": "finance_tracker_backend", "filename": "finance_tracker_backend/api/routes.py", "fields": [{"name": "api_bp = Blueprint(\"api\", __name__)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"46": "54a7cfa7c119fe6c7b03a0f21b551ee4d6527f1b"}]}